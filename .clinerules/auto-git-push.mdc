---
description: å¯é€‰çš„è‡ªåŠ¨Gitæäº¤æ¨é€æœºåˆ¶ - ä»»åŠ¡å®Œæˆåä½¿ç”¨MCPå·¥å…·
globs: 
alwaysApply: false
---

# ğŸš€ è‡ªåŠ¨Gitæäº¤æ¨é€ï¼ˆä½¿ç”¨MCPå·¥å…·ï¼‰

> âš ï¸ æ­¤è§„åˆ™æŒ‰éœ€ä½¿ç”¨ã€‚å½“ä»»åŠ¡å®Œæˆéœ€è¦æ¨é€æ—¶ï¼Œå‚è€ƒæ­¤è§„åˆ™ã€‚

## âœ¨ æ–°æ–¹æ³•ï¼šç›´æ¥ä½¿ç”¨MCPå·¥å…·

**é‡è¦**ï¼šä¸å†ä½¿ç”¨Node.jsè„šæœ¬ï¼ˆä¼šå¯¼è‡´terminalå¡ä½ï¼‰ï¼Œæ”¹ä¸ºç›´æ¥ä½¿ç”¨Git MCPå’ŒGitHub MCPå·¥å…·ã€‚

## ğŸ“‹ æ ‡å‡†å·¥ä½œæµ

å½“å®Œæˆä»»åŠ¡éœ€è¦æ¨é€æ—¶ï¼ŒæŒ‰ä»¥ä¸‹é¡ºåºä½¿ç”¨MCPå·¥å…·ï¼š

### 1. æ£€æŸ¥çŠ¶æ€
```javascript
cvcV5flJSjZ8qIXrpKYFEk0mcp0git_status({
  repo_path: "/home/averyubuntu/projects"
})
```

### 2. æ·»åŠ æ–‡ä»¶
```javascript
cvcV5flJSjZ8qIXrpKYFEk0mcp0git_add({
  repo_path: "/home/averyubuntu/projects",
  files: ["."]  // æ·»åŠ æ‰€æœ‰æ–‡ä»¶
})
```

### 3. æäº¤æ›´æ”¹
```javascript
cvcV5flJSjZ8qIXrpKYFEk0mcp0git_commit({
  repo_path: "/home/averyubuntu/projects",
  message: `ä»»åŠ¡å®Œæˆ: [æ¦‚æ‹¬]

ç”¨æˆ·æ¶ˆæ¯:
[ç”¨æˆ·åŸå§‹æ¶ˆæ¯]

å¤„ç†æ¦‚æ‹¬:
[AIå¤„ç†æ¦‚æ‹¬]

æ–‡ä»¶å˜æ›´:
- [åˆ—å‡ºä¸»è¦å˜æ›´æ–‡ä»¶]

å®Œæˆæ—¶é—´: ${new Date().toISOString()}`
})
```

### 4. æ¨é€åˆ°GitHub
```bash
# æ¨é€ä»éœ€ä½¿ç”¨execute_commandï¼ˆGit MCPæš‚ä¸æ”¯æŒpushï¼‰
execute_command("cd /home/averyubuntu/projects && git push origin main")
```

## ğŸ¯ å®Œæ•´ç¤ºä¾‹

```javascript
// æ­¥éª¤1: æ£€æŸ¥çŠ¶æ€
await cvcV5flJSjZ8qIXrpKYFEk0mcp0git_status({
  repo_path: "/home/averyubuntu/projects"
});

// æ­¥éª¤2: æŸ¥çœ‹å˜æ›´
await cvcV5flJSjZ8qIXrpKYFEk0mcp0git_diff_unstaged({
  repo_path: "/home/averyubuntu/projects"
});

// æ­¥éª¤3: æ·»åŠ æ–‡ä»¶
await cvcV5flJSjZ8qIXrpKYFEk0mcp0git_add({
  repo_path: "/home/averyubuntu/projects",
  files: ["."]
});

// æ­¥éª¤4: æäº¤
await cvcV5flJSjZ8qIXrpKYFEk0mcp0git_commit({
  repo_path: "/home/averyubuntu/projects",
  message: "ä»»åŠ¡å®Œæˆ: æ·»åŠ æ–°åŠŸèƒ½\n\nç”¨æˆ·æ¶ˆæ¯:\nå¢åŠ ç”¨æˆ·è®¤è¯åŠŸèƒ½\n\nå¤„ç†æ¦‚æ‹¬:\nå®ç°äº†JWTè®¤è¯å’Œæƒé™ç®¡ç†"
});

// æ­¥éª¤5: æ¨é€
await execute_command("cd /home/averyubuntu/projects && git push origin main");
```

## ğŸ’¡ ä½¿ç”¨æç¤º

### ä½•æ—¶ä½¿ç”¨
- âœ… å®Œæˆé‡è¦åŠŸèƒ½å¼€å‘
- âœ… å®Œæˆæ–‡æ¡£æ›´æ–°
- âœ… å®Œæˆé…ç½®ä¿®æ”¹
- âŒ ä¸å»ºè®®ç”¨äºä¸´æ—¶æµ‹è¯•

### æç¤ºè¯å»ºè®®

å®Œæˆä»»åŠ¡åï¼Œå‘Šè¯‰AIï¼š

> "ä»»åŠ¡å®Œæˆäº†ï¼Œä½¿ç”¨Git MCPå·¥å…·æäº¤å¹¶æ¨é€"

æˆ–ç®€å•è¯´ï¼š

> "commit and push"

## ğŸ”§ å¯ç”¨çš„Git MCPå·¥å…·

```javascript
// çŠ¶æ€æ£€æŸ¥
git_status({ repo_path })
git_diff_unstaged({ repo_path })
git_diff_staged({ repo_path })

// æ–‡ä»¶æ“ä½œ
git_add({ repo_path, files })
git_reset({ repo_path })

// æäº¤æ“ä½œ
git_commit({ repo_path, message })
git_log({ repo_path, max_count })
git_show({ repo_path, revision })

// åˆ†æ”¯æ“ä½œ
git_branch({ repo_path, branch_type })
git_create_branch({ repo_path, branch_name })
git_checkout({ repo_path, branch_name })
```

## ğŸš« åºŸå¼ƒçš„æ–¹æ³•

âŒ **ä¸å†ä½¿ç”¨**ï¼š
```bash
# æ—§æ–¹æ³•ï¼ˆä¼šå¯¼è‡´pendingï¼‰
node /home/averyubuntu/projects/utils/auto-git-commit.js \
  --message "..." \
  --summary "..."
```

**åŸå› **ï¼šä½¿ç”¨`execSync`ä¼šå¯¼è‡´terminalå¡ä½ï¼Œä»»åŠ¡æ— æ³•å®Œæˆã€‚

## âš™ï¸ GitHub MCPå·¥å…·ï¼ˆå¯é€‰ï¼‰

å¦‚æœéœ€è¦åˆ›å»ºIssueã€PRç­‰GitHubæ“ä½œï¼š

```javascript
// åˆ›å»ºIssue
c9c-82TuNAN51W1dHi5w5B0mcp0create_issue({
  owner: "laiyinyizao007",
  repo: "averivendell-others",
  title: "ä»»åŠ¡å®Œæˆé€šçŸ¥",
  body: "è¯¦ç»†æè¿°..."
})

// åˆ›å»ºPR
c9c-82TuNAN51W1dHi5w5B0mcp0create_pull_request({
  owner: "laiyinyizao007",
  repo: "averivendell-others",
  title: "Feature: ...",
  head: "feature-branch",
  base: "main",
  body: "PRæè¿°..."
})
```

## ğŸ“ æ³¨æ„äº‹é¡¹

1. **MCPå·¥å…·ä¼˜å…ˆ**ï¼šä¼˜å…ˆä½¿ç”¨Git MCPå·¥å…·ï¼Œé¿å…`execute_command`
2. **æ¨é€ä¾‹å¤–**ï¼š`git push`æš‚æ—¶ä»éœ€`execute_command`ï¼ˆGit MCPä¸æ”¯æŒï¼‰
3. **æäº¤æ¶ˆæ¯**ï¼šä¿æŒç®€æ´æ˜äº†ï¼ŒåŒ…å«å¿…è¦çš„ä¸Šä¸‹æ–‡
4. **æ£€æŸ¥å˜æ›´**ï¼šæäº¤å‰ä½¿ç”¨`git_diff_unstaged`æŸ¥çœ‹å˜æ›´

## ğŸ”„ è¿ç§»è¯´æ˜

ä»æ—§çš„`auto-git-commit.js`è¿ç§»åˆ°MCPå·¥å…·ï¼š

| æ—§æ–¹æ³• | æ–°æ–¹æ³•ï¼ˆMCPï¼‰ |
|--------|--------------|
| `execSync('git status')` | `git_status()` |
| `execSync('git add -A')` | `git_add({ files: ["."] })` |
| `execSync('git commit -m "..."')` | `git_commit({ message: "..." })` |
| `execSync('git push')` | `execute_command("git push")` |

---

**è®¾è®¡ç†å¿µ**ï¼šä½¿ç”¨MCPå·¥å…·ï¼Œé¿å…terminalå¡ä½ï¼Œç¡®ä¿ä»»åŠ¡èƒ½å¤Ÿæ­£å¸¸å®Œæˆã€‚

**æœ€åæ›´æ–°**: 2025-11-09  
**æ›´æ–°åŸå› **: æ”¹ç”¨Git MCPå·¥å…·æ›¿ä»£execSyncï¼Œè§£å†³pendingé—®é¢˜
